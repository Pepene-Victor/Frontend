<title>Account manager</title>
<form [formGroup]="editForm" (ngSubmit)="submitForm()">
  <div class="logo-container">
    <img class="logo" src="../../../assets/logo.png" alt="logo image"/>
  </div>
  <div class="container">
    <h2>Change {{accountDetailsType}}</h2>
    <div class="change-username-container" *ngIf="accountDetailsType == 'username' ">
      <span class="p-float-label">
        <input id="new-username" type="text" pInputText formControlName="username">
        <label for="new-username">New username</label>
      </span>
      <span class="p-error" *ngIf="editForm.controls.username.hasError('pattern')">
        Username must contain only letters and numbers
      </span>
    </div>
    <div class="change-password-container" *ngIf="accountDetailsType == 'password' ">
      <span class="p-float-label">
        <input id="pw" type="password" pInputText formControlName="password">
        <label for="pw">New Password</label>
        </span>
      <span class="p-error" *ngIf="editForm.controls.password.hasError('pattern')">
          Password must contain at least one uppercase,one lowercase, one number and one symbol(@$!%*?&)
      </span>
      <span class="p-float-label">
        <input id="c-pw" type="password" pInputText formControlName="confirmPassword">
        <label for="c-pw">Confirm password</label>
      </span>
      <span class="p-error" *ngIf="editForm.controls.password.value != editForm.controls.confirmPassword.value" >Passwords do not match</span>
    </div>
    <div class="change-email-container" *ngIf="accountDetailsType == 'email'">
      <span class="p-float-label">
        <input id="email" type="text" pInputText formControlName="email">
        <label for="email">New mail</label>
        <span class="p-error" *ngIf="editForm.controls.email.hasError('email')">Invalid mail!</span>
      </span>
    </div>
    <span class="p-error">{{showError}}</span>
  </div>
  <div class="buttons-container">
    <button pButton pRipple type="button" label="Cancel" routerLink="/user/account-details"></button>
    <button pButton pRipple type="submit" label="Save" [disabled]="formValidation==='INVALID' || editForm.controls.password.value != editForm.controls.confirmPassword.value"></button>
  </div>
</form>
